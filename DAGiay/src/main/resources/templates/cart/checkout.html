<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{/layout/index :: dynamic(~{::main})}">
<body>
<main>    
    <br>
    <div class="container mt-4"></div>
    <hr>
    <!-- Cart and summary -->
    <form th:action="@{/cart/success}" method="post" onsubmit="return validateForm();">
        <div class="row">
            <div class="col-md-8">
                <div class="p-2" style="background-color: #e9ecef;">
                    <h4 class="fw-bold mt-2">THÔNG TIN GIAO HÀNG</h4>
                </div>

                <div class="row">
                    <input class="m-3 col-md-10 p-2" placeholder="Họ Tên" type="text" id="name" required name="name">
                    <input class="m-3 col-md-10 p-2" placeholder="Số điện thoại" type="tel" id="phone" required pattern="[0-9]{10}" name="phone">
                    <input class="m-3 col-md-10 p-2" placeholder="Email" type="email" id="email" required name="email">
                    <input class="m-3 col-md-10 p-2" placeholder="Địa chỉ" type="text" id="address" required name="address">
                    <select class="m-3 col-md-10 p-2" id="city" required name="city">
                        <option value="">Tỉnh/Thành Phố</option>
                    </select>
                    <div class="col-md-10 m-1 mt-3" style="position: relative;" id="district" required>
                        <select class="col-md-5 p-2" name="district">
                            <option>Quận/Huyện</option>
                        </select>
                        <select class="col-md-5 float-end p-2" style="position: relative; left: 20px;" id="ward" required name="ward">
                            <option>Phường/Xã</option>
                        </select>
                        <div class="form-check mt-4">
                            <input class="form-check-input" type="checkbox" id="flexCheckDefault" name="subscribe">
                            <label class="form-check-label" for="flexCheckDefault">
                                Cập nhật các thông tin mới nhất về chương trình từ Sports
                            </label>
                        </div>
                    </div>
                    <div class="row m-1">
                        <div class="p-2 mt-2" style="background-color: #e9ecef;">
                            <h4 class="fw-bold mt-2">PHƯƠNG THỨC GIAO HÀNG</h4>
                        </div>
                        <div class="form-check mt-4">
                            <input class="form-check-input" type="radio" id="deliveryStandard" name="deliveryMethod" value="standard" checked>
                            <label class="form-check-label" for="deliveryStandard">
                                Tốc độ tiêu chuẩn (từ 2 - 5 ngày làm việc) <i class="bi bi-question-circle"></i>
                            </label>
                        </div>
                        <div class="p-2 mt-4" style="background-color: #e9ecef;">
                            <h4 class="fw-bold mt-2">PHƯƠNG THỨC THANH TOÁN</h4>
                        </div>
						<div style="position: relative; display: inline-block;">
						    <label class="form-check-label" for="paymentCash">
						        Thanh toán trực tiếp khi giao hàng 	 <i class="bi bi-cash m-2">  	</i>
						    </label>
						    <span 
						        style="color: red; cursor: pointer; font-weight: bold; padding-left: 5px; position: relative;"
						        onmouseover="this.nextElementSibling.style.visibility = 'visible';"
						        onmouseout="this.nextElementSibling.style.visibility = 'hidden';">
						        ?
						    </span>
						    <div style="visibility: hidden; width: 220px; background-color: #f5f5f5; color: #333; text-align: left; border-radius: 4px; padding: 8px; position: absolute; z-index: 1; top: 100%; left: 50%; transform: translateX(-50%); box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);">
						        Là phương thức thanh toán bằng tiền mặt trực tiếp khi nhận hàng
						    </div>
						</div>

	                        <div class="form-check mt-4">
	                            <input class="form-check-input" type="radio" id="paymentCreditcard" name="paymentMethod" value="creditcard">
	                            <label class="form-check-label" for="paymentCreditcard">
	                                Thanh toán bằng mã QR <i class="bi bi-credit-card p-3"></i>
	                            </label>
	                        </div>
                    </div>
                </div>
            </div>

            <!-- Cart Summary -->
            <div class="col-md-4" style="background-color: #e9ecef;">
                <div class="cart-summary p-2">
                    <h4 class="fw-bold mt-2">ĐƠN HÀNG</h4>
                    <hr style="border-top: 1px dashed #ccc;">
                    
                    <!-- Bảng các sản phẩm trong giỏ hàng -->
                    <div ng-repeat="item in cart.items">
                        <div class="d-flex position-relative">
                            <h5 class="fw-bold text-secondary fs-6 w-100" style="max-width: 250px;">{{item.name}}</h5>
                            <p class="text-secondary position-absolute bottom-5 end-0 ">{{item.price | number:3}} VNĐ</p>
                        </div>
                        <div class="d-flex text-secondary">
                            <div class="mt-1">
                                <label class="form-label fw-bold">Size: </label>
                                <span>{{item.size}}</span>
                            </div>
                            <div class="m-1" style="position: relative; bottom: 6px; left: 10px;">
                                <label for="quantity" class="form-label fw-bold text-secondary">x</label>
                                <input type="text" ng-model="item.qty" min="1" class="form-control d-inline-block text-secondary" style="width: 70px; border: none;" readonly>
                            </div>
                        </div>
                        <hr style="border-top: 1px dashed #ccc;">
                    </div>
                    <div>
                        <p>Đơn hàng: <span class="float-end">{{cart.amount | number:3}} VNĐ</span></p>
                        <p>Giảm: <span class="float-end">- 0 VNĐ</span></p>
                        <p>Phí vận chuyển: <span class="float-end">0 VNĐ</span></p>
                        <p>Phí thanh toán: <span class="float-end">0 VNĐ</span></p>
                        <hr style="border-top: 1px dashed #ccc;">
                        <p><strong>Số lượng: <span class="float-end">{{cart.count}}</span></strong></p>
                        <p><strong>TỔNG CỘNG: <span class="float-end fw-bold" style="color: orange;">{{cart.amount | number:3}} VNĐ</span></strong></p>
                    </div>
                    <button class="btn btn-warning w-100 mt-3 fw-bold text-light p-4 fs-4" type="submit" style="background: #f60;">HOÀN TẤT ĐẶT HÀNG</button>
                </div>
            </div>
        </div>
    </form>
    <br>
    <br>
    <script src="/js/validation.js"></script>
</main>
</body>
</html>
